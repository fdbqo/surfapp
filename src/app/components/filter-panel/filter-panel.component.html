<div class="filter-panel-container">
  <!-- Search bar (always visible) -->
  <div class="search-container">
    <mat-form-field appearance="outline" class="search-field">
      <mat-label>Search surf spots</mat-label>
      <input matInput [formControl]="searchTermControl" placeholder="Search by name, description...">
      <mat-icon matSuffix>search</mat-icon>
    </mat-form-field>
    
    <button 
      mat-flat-button 
      class="filter-toggle-button" 
      (click)="toggleFilterPanel()"
      [matTooltip]="activeFilterCount > 0 ? 'Filters active' : 'Show filters'">
      <mat-icon>filter_list</mat-icon>
      <span class="filter-text">Filters</span>
      <span *ngIf="activeFilterCount > 0" class="filter-badge">{{ activeFilterCount }}</span>
    </button>
  </div>
  
  <!-- Expandable filter panel -->
  <div class="filter-panel" [class.expanded]="panelOpenState">
    <div class="filter-panel-header">
      <h3>Filter Surf Spots</h3>
      <button mat-button color="primary" (click)="clearFilters()" [disabled]="activeFilterCount === 0">
        <mat-icon>clear_all</mat-icon>
        Clear All
      </button>
    </div>
    
    <div class="filter-panel-content">
      <!-- Difficulty -->
      <div class="filter-section">
        <h4>Difficulty</h4>
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Select difficulty</mat-label>
          <mat-select [formControl]="difficultyControl" multiple>
            <mat-option *ngFor="let level of difficulties" [value]="level">{{ level }}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      
      <!-- Wave Type -->
      <div class="filter-section">
        <h4>Wave Type</h4>
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Select wave types</mat-label>
          <mat-select [formControl]="waveTypeControl" multiple>
            <mat-option *ngFor="let type of waveTypes" [value]="type">{{ type }}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      
      <!-- Region -->
      <div class="filter-section">
        <h4>Region</h4>
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Select regions</mat-label>
          <mat-select [formControl]="regionControl" multiple>
            <mat-option *ngFor="let region of allRegions" [value]="region">{{ region }}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      
      <!-- Country -->
      <div class="filter-section">
        <h4>Country</h4>
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Select countries</mat-label>
          <mat-select [formControl]="countryControl" multiple>
            <mat-option *ngFor="let country of allCountries" [value]="country">{{ country }}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      
      <!-- Season -->
      <div class="filter-section">
        <h4>Best Season</h4>
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Select seasons</mat-label>
          <mat-select [formControl]="seasonControl" multiple>
            <mat-option *ngFor="let season of seasons" [value]="season">{{ season }}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      
      <!-- Crowd Factor -->
      <div class="filter-section">
        <h4>Crowd Factor</h4>
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Select crowd levels</mat-label>
          <mat-select [formControl]="crowdFactorControl" multiple>
            <mat-option *ngFor="let factor of crowdFactors" [value]="factor">{{ factor }}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div>
  </div>
</div>

